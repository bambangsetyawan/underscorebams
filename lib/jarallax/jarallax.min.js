/*!
 * Name    : Just Another Parallax [Jarallax]
 * Version : 1.8.0
 * Author  : _nK https://nkdev.info
 * GitHub  : https://github.com/nk-o/jarallax
 */
(function(g){if(!Date.now){Date.now=function(){return new Date().getTime()}}if(!g.requestAnimationFrame){(function(){var A=["webkit","moz"];for(var y=0;y<A.length&&!g.requestAnimationFrame;++y){var x=A[y];g.requestAnimationFrame=g[x+"RequestAnimationFrame"];g.cancelAnimationFrame=g[x+"CancelAnimationFrame"]||g[x+"CancelRequestAnimationFrame"]}if(/iP(ad|hone|od).*OS 6/.test(g.navigator.userAgent)||!g.requestAnimationFrame||!g.cancelAnimationFrame){var z=0;g.requestAnimationFrame=function(D){var C=Date.now();var B=Math.max(z+16,C);return setTimeout(function(){D(z=B)},B-C)};g.cancelAnimationFrame=clearTimeout}}())}var n=document.createElement("div");function h(z){var y=["O","Moz","ms","Ms","Webkit"];var x=y.length;if(n.style[z]!==undefined){return true}z=z.charAt(0).toUpperCase()+z.substr(1);while(--x>-1&&n.style[y[x]+z]===undefined){}return x>=0}var j=h("transform");var k=h("perspective");var s=navigator.userAgent;var v=s.toLowerCase().indexOf("android")>-1;var q=/iPad|iPhone|iPod/.test(s)&&!g.MSStream;var d=s.toLowerCase().indexOf("firefox")>-1;var o=s.indexOf("MSIE ")>-1||s.indexOf("Trident/")>-1||s.indexOf("Edge/")>-1;var t=document.all&&!g.atob;var r;var a;function l(){r=g.innerWidth||document.documentElement.clientWidth;a=g.innerHeight||document.documentElement.clientHeight}l();var b=[];var u=(function(){var x=0;function y(A,B){var D=this,C;D.$item=A;D.defaults={type:"scroll",speed:0.5,imgSrc:null,imgWidth:null,imgHeight:null,elementInViewport:null,zIndex:-100,noAndroid:false,noIos:true,onScroll:null,onInit:null,onDestroy:null,onCoverImage:null};C=JSON.parse(D.$item.getAttribute("data-jarallax")||"{}");D.options=D.extend({},D.defaults,C,B);if(!j||v&&D.options.noAndroid||q&&D.options.noIos){return}D.options.speed=Math.min(2,Math.max(-1,parseFloat(D.options.speed)));var z=D.options.elementInViewport;if(z&&typeof z==="object"&&typeof z.length!=="undefined"){z=z[0]}if(!z instanceof Element){z=null}D.options.elementInViewport=z;D.instanceID=x++;D.image={src:D.options.imgSrc||null,$container:null,$item:null,width:D.options.imgWidth||null,height:D.options.imgHeight||null,useImgTag:q||v||o,position:!k||d?"absolute":"fixed"};if(D.initImg()){D.init()}}return y}());u.prototype.css=function(y,z){if(typeof z==="string"){if(g.getComputedStyle){return g.getComputedStyle(y).getPropertyValue(z)}return y.style[z]}if(z.transform){if(k){z.transform+=" translateZ(0)"}z.WebkitTransform=z.MozTransform=z.msTransform=z.OTransform=z.transform}for(var x in z){y.style[x]=z[x]}return y};u.prototype.extend=function(x){x=x||{};for(var z=1;z<arguments.length;z++){if(!arguments[z]){continue}for(var y in arguments[z]){if(arguments[z].hasOwnProperty(y)){x[y]=arguments[z][y]}}}return x};u.prototype.initImg=function(){var x=this;if(x.image.src===null){x.image.src=x.css(x.$item,"background-image").replace(/^url\(['"]?/g,"").replace(/['"]?\)$/g,"")}return !(!x.image.src||x.image.src==="none")};u.prototype.init=function(){var D=this,x={position:"absolute",top:0,left:0,width:"100%",height:"100%",overflow:"hidden",pointerEvents:"none"},A={};D.$item.setAttribute("data-jarallax-original-styles",D.$item.getAttribute("style"));if(D.css(D.$item,"position")==="static"){D.css(D.$item,{position:"relative"})}if(D.css(D.$item,"z-index")==="auto"){D.css(D.$item,{zIndex:0})}D.image.$container=document.createElement("div");D.css(D.image.$container,x);D.css(D.image.$container,{visibility:"hidden","z-index":D.options.zIndex});D.image.$container.setAttribute("id","jarallax-container-"+D.instanceID);D.$item.appendChild(D.image.$container);if(D.image.useImgTag){D.image.$item=document.createElement("img");D.image.$item.setAttribute("src",D.image.src);A=D.extend({"max-width":"none"},x,A)}else{D.image.$item=document.createElement("div");A=D.extend({"background-position":"50% 50%","background-size":"100% auto","background-repeat":"no-repeat no-repeat","background-image":'url("'+D.image.src+'")'},x,A)}var z=0;var C=D.$item;while(C!==null&&C!==document&&z===0){var B=D.css(C,"-webkit-transform")||D.css(C,"-moz-transform")||D.css(C,"transform");if(B&&B!=="none"){z=1;D.css(D.image.$container,{transform:"translateX(0) translateY(0)"})}C=C.parentNode}if(z||D.options.type==="opacity"||D.options.type==="scale"||D.options.type==="scale-opacity"){D.image.position="absolute"}A.position=D.image.position;D.css(D.image.$item,A);D.image.$container.appendChild(D.image.$item);function y(){D.coverImage();D.clipContainer();D.onScroll(true);if(D.options.onInit){D.options.onInit.call(D)}setTimeout(function(){if(D.$item){D.css(D.$item,{"background-image":"none","background-attachment":"scroll","background-size":"auto"})}},0)}if(D.image.width&&D.image.height){y()}else{D.getImageSize(D.image.src,function(F,E){D.image.width=F;D.image.height=E;y()})}b.push(D)};u.prototype.destroy=function(){var B=this;for(var y=0,x=b.length;y<x;y++){if(b[y].instanceID===B.instanceID){b.splice(y,1);break}}var A=B.$item.getAttribute("data-jarallax-original-styles");B.$item.removeAttribute("data-jarallax-original-styles");if(A==="null"){B.$item.removeAttribute("style")}else{B.$item.setAttribute("style",A)}if(B.$clipStyles){B.$clipStyles.parentNode.removeChild(B.$clipStyles)}B.image.$container.parentNode.removeChild(B.image.$container);if(B.options.onDestroy){B.options.onDestroy.call(B)}delete B.$item.jarallax;for(var z in B){delete B[z]}};u.prototype.getImageSize=function(y,z){if(!y||!z){return}var x=new Image();x.onload=function(){z(x.width,x.height)};x.src=y};u.prototype.clipContainer=function(){if(t){return}var C=this,B=C.image.$container.getBoundingClientRect(),z=B.width,x=B.height;if(!C.$clipStyles){C.$clipStyles=document.createElement("style");C.$clipStyles.setAttribute("type","text/css");C.$clipStyles.setAttribute("id","#jarallax-clip-"+C.instanceID);var y=document.head||document.getElementsByTagName("head")[0];y.appendChild(C.$clipStyles)}var A=["#jarallax-container-"+C.instanceID+" {","   clip: rect(0 "+z+"px "+x+"px 0);","   clip: rect(0, "+z+"px, "+x+"px, 0);","}"].join("\n");if(C.$clipStyles.styleSheet){C.$clipStyles.styleSheet.cssText=A}else{C.$clipStyles.innerHTML=A}};u.prototype.coverImage=function(){var D=this;if(!D.image.width||!D.image.height){return}var I=D.image.$container.getBoundingClientRect(),x=I.width,J=I.height,F=I.left,G=D.image.width,B=D.image.height,y=D.options.speed,C=D.options.type==="scroll"||D.options.type==="scroll-opacity",H=0,E=0,A=J,z=0,K=0;if(C){if(y<0){H=y*Math.max(J,a)}else{H=y*(J+a)}if(y>1){A=Math.abs(H-a)}else{if(y<0){A=H/y+Math.abs(H)}else{A+=Math.abs(a-J)*(1-y)}}H/=2}E=A*G/B;if(E<x){E=x;A=E*B/G}if(C){z=F+(x-E)/2;K=(a-A)/2}else{z=(x-E)/2;K=(J-A)/2}if(D.image.position==="absolute"){z-=F}D.parallaxScrollDistance=H;D.css(D.image.$item,{width:E+"px",height:A+"px",marginLeft:z+"px",marginTop:K+"px"});if(D.options.onCoverImage){D.options.onCoverImage.call(D)}};u.prototype.isVisible=function(){return this.isElementInViewport||false};u.prototype.onScroll=function(z){var H=this;if(!H.image.width||!H.image.height){return}var J=H.$item.getBoundingClientRect(),D=J.top,L=J.height,N={visibility:"visible",backgroundPosition:"50% 50%"};var A=J;if(H.options.elementInViewport){A=H.options.elementInViewport.getBoundingClientRect()}H.isElementInViewport=A.bottom>=0&&A.right>=0&&A.top<=a&&A.left<=r;if(z?false:!H.isElementInViewport){return}var B=Math.max(0,D),M=Math.max(0,L+D),K=Math.max(0,-D),I=Math.max(0,D+L-a),E=Math.max(0,L-(D+L-a)),F=Math.max(0,-D+a-L),y=1-2*(a-D)/(a+L);var x=1;if(L<a){x=1-(K||I)/L}else{if(M<=a){x=M/a}else{if(E<=a){x=E/a}}}if(H.options.type==="opacity"||H.options.type==="scale-opacity"||H.options.type==="scroll-opacity"){N.transform="";N.opacity=x}if(H.options.type==="scale"||H.options.type==="scale-opacity"){var C=1;if(H.options.speed<0){C-=H.options.speed*x}else{C+=H.options.speed*(1-x)}N.transform="scale("+C+")"}if(H.options.type==="scroll"||H.options.type==="scroll-opacity"){var G=H.parallaxScrollDistance*y;if(H.image.position==="absolute"){G-=D}N.transform="translateY("+G+"px)"}H.css(H.image.$item,N);if(H.options.onScroll){H.options.onScroll.call(H,{section:J,beforeTop:B,beforeTopEnd:M,afterTop:K,beforeBottom:I,beforeBottomEnd:E,afterBottom:F,visiblePercent:x,fromViewportCenter:y})}};function m(z,x,y){if(z.addEventListener){z.addEventListener(x,y)}else{z.attachEvent("on"+x,function(){y.call(z)})}}function f(x){g.requestAnimationFrame(function(){if(x.type!=="scroll"){l()}for(var z=0,y=b.length;z<y;z++){if(x.type!=="scroll"){b[z].coverImage();b[z].clipContainer()}b[z].onScroll()}})}m(g,"scroll",f);m(g,"resize",f);m(g,"orientationchange",f);m(g,"load",f);var c=function(z){if(typeof HTMLElement==="object"?z instanceof HTMLElement:z&&typeof z==="object"&&z!==null&&z.nodeType===1&&typeof z.nodeName==="string"){z=[z]}var C=arguments[1],B=Array.prototype.slice.call(arguments,2),x=z.length,y=0,A;for(y;y<x;y++){if(typeof C==="object"||typeof C==="undefined"){if(!z[y].jarallax){z[y].jarallax=new u(z[y],C)}}else{if(z[y].jarallax){A=z[y].jarallax[C].apply(z[y].jarallax,B)}}if(typeof A!=="undefined"){return A}}return z};c.constructor=u;var w=g.jarallax;g.jarallax=c;g.jarallax.noConflict=function(){g.jarallax=w;return this};if(typeof jQuery!=="undefined"){var p=function(){var x=arguments||[];Array.prototype.unshift.call(x,this);var y=c.apply(g,x);return typeof y!=="object"?y:this};p.constructor=u;var e=jQuery.fn.jarallax;jQuery.fn.jarallax=p;jQuery.fn.jarallax.noConflict=function(){jQuery.fn.jarallax=e;return this}}var i=jarallax.noConflict();m(g,"DOMContentLoaded",function(){c(document.querySelectorAll("[data-jarallax], [data-jarallax-video]"))})}(window));