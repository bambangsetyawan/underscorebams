/*!
 * Name    : Just Another Parallax [Jarallax]
 * Version : 1.8.0
 * Author  : _nK https://nkdev.info
 * GitHub  : https://github.com/nk-o/jarallax
 */
(function(g){if(!Date.now){Date.now=function(){return new Date().getTime()}}if(!g.requestAnimationFrame){(function(){var x=["webkit","moz"];for(var z=0;z<x.length&&!g.requestAnimationFrame;++z){var y=x[z];g.requestAnimationFrame=g[y+"RequestAnimationFrame"];g.cancelAnimationFrame=g[y+"CancelAnimationFrame"]||g[y+"CancelRequestAnimationFrame"]}if(/iP(ad|hone|od).*OS 6/.test(g.navigator.userAgent)||!g.requestAnimationFrame||!g.cancelAnimationFrame){var A=0;g.requestAnimationFrame=function(D){var C=Date.now();var B=Math.max(A+16,C);return setTimeout(function(){D(A=B)},B-C)};g.cancelAnimationFrame=clearTimeout}}())}var q=document.createElement("div");function h(x){var z=["O","Moz","ms","Ms","Webkit"];var y=z.length;if(q.style[x]!==undefined){return true}x=x.charAt(0).toUpperCase()+x.substr(1);while(--y>-1&&q.style[z[y]+x]===undefined){}return y>=0}var j=h("transform");var l=h("perspective");var v=navigator.userAgent;var m=v.toLowerCase().indexOf("android")>-1;var t=/iPad|iPhone|iPod/.test(v)&&!g.MSStream;var d=v.toLowerCase().indexOf("firefox")>-1;var r=v.indexOf("MSIE ")>-1||v.indexOf("Trident/")>-1||v.indexOf("Edge/")>-1;var w=document.all&&!g.atob;var u;var a;function o(){u=g.innerWidth||document.documentElement.clientWidth;a=g.innerHeight||document.documentElement.clientHeight}o();var b=[];var k=(function(){var y=0;function x(D,z){var C=this,A;C.$item=D;C.defaults={type:"scroll",speed:0.5,imgSrc:null,imgWidth:null,imgHeight:null,elementInViewport:null,zIndex:-100,noAndroid:false,noIos:true,onScroll:null,onInit:null,onDestroy:null,onCoverImage:null};A=JSON.parse(C.$item.getAttribute("data-jarallax")||"{}");C.options=C.extend({},C.defaults,A,z);if(!j||m&&C.options.noAndroid||t&&C.options.noIos){return}C.options.speed=Math.min(2,Math.max(-1,parseFloat(C.options.speed)));var B=C.options.elementInViewport;if(B&&typeof B==="object"&&typeof B.length!=="undefined"){B=B[0]}if(!B instanceof Element){B=null}C.options.elementInViewport=B;C.instanceID=y++;C.image={src:C.options.imgSrc||null,$container:null,$item:null,width:C.options.imgWidth||null,height:C.options.imgHeight||null,useImgTag:t||m||r,position:!l||d?"absolute":"fixed"};if(C.initImg()){C.init()}}return x}());k.prototype.css=function(z,x){if(typeof x==="string"){if(g.getComputedStyle){return g.getComputedStyle(z).getPropertyValue(x)}return z.style[x]}if(x.transform){if(l){x.transform+=" translateZ(0)"}x.WebkitTransform=x.MozTransform=x.msTransform=x.OTransform=x.transform}for(var y in x){z.style[y]=x[y]}return z};k.prototype.extend=function(y){y=y||{};for(var x=1;x<arguments.length;x++){if(!arguments[x]){continue}for(var z in arguments[x]){if(arguments[x].hasOwnProperty(z)){y[z]=arguments[x][z]}}}return y};k.prototype.initImg=function(){var x=this;if(x.image.src===null){x.image.src=x.css(x.$item,"background-image").replace(/^url\(['"]?/g,"").replace(/['"]?\)$/g,"")}return !(!x.image.src||x.image.src==="none")};k.prototype.init=function(){var D=this,x={position:"absolute",top:0,left:0,width:"100%",height:"100%",overflow:"hidden",pointerEvents:"none"},y={};D.$item.setAttribute("data-jarallax-original-styles",D.$item.getAttribute("style"));if(D.css(D.$item,"position")==="static"){D.css(D.$item,{position:"relative"})}if(D.css(D.$item,"z-index")==="auto"){D.css(D.$item,{zIndex:0})}D.image.$container=document.createElement("div");D.css(D.image.$container,x);D.css(D.image.$container,{visibility:"hidden","z-index":D.options.zIndex});D.image.$container.setAttribute("id","jarallax-container-"+D.instanceID);D.$item.appendChild(D.image.$container);if(D.image.useImgTag){D.image.$item=document.createElement("img");D.image.$item.setAttribute("src",D.image.src);y=D.extend({"max-width":"none"},x,y)}else{D.image.$item=document.createElement("div");y=D.extend({"background-position":"50% 50%","background-size":"100% auto","background-repeat":"no-repeat no-repeat","background-image":'url("'+D.image.src+'")'},x,y)}var B=0;var C=D.$item;while(C!==null&&C!==document&&B===0){var z=D.css(C,"-webkit-transform")||D.css(C,"-moz-transform")||D.css(C,"transform");if(z&&z!=="none"){B=1;D.css(D.image.$container,{transform:"translateX(0) translateY(0)"})}C=C.parentNode}if(B||D.options.type==="opacity"||D.options.type==="scale"||D.options.type==="scale-opacity"){D.image.position="absolute"}y.position=D.image.position;D.css(D.image.$item,y);D.image.$container.appendChild(D.image.$item);function A(){D.coverImage();D.clipContainer();D.onScroll(true);if(D.options.onInit){D.options.onInit.call(D)}setTimeout(function(){if(D.$item){D.css(D.$item,{"background-image":"none","background-attachment":"scroll","background-size":"auto"})}},0)}if(D.image.width&&D.image.height){A()}else{D.getImageSize(D.image.src,function(F,E){D.image.width=F;D.image.height=E;A()})}b.push(D)};k.prototype.destroy=function(){var z=this;for(var A=0,x=b.length;A<x;A++){if(b[A].instanceID===z.instanceID){b.splice(A,1);break}}var y=z.$item.getAttribute("data-jarallax-original-styles");z.$item.removeAttribute("data-jarallax-original-styles");if(y==="null"){z.$item.removeAttribute("style")}else{z.$item.setAttribute("style",y)}if(z.$clipStyles){z.$clipStyles.parentNode.removeChild(z.$clipStyles)}z.image.$container.parentNode.removeChild(z.image.$container);if(z.options.onDestroy){z.options.onDestroy.call(z)}delete z.$item.jarallax;for(var B in z){delete z[B]}};k.prototype.getImageSize=function(z,x){if(!z||!x){return}var y=new Image();y.onload=function(){x(y.width,y.height)};y.src=z};k.prototype.clipContainer=function(){if(w){return}var B=this,z=B.image.$container.getBoundingClientRect(),C=z.width,x=z.height;if(!B.$clipStyles){B.$clipStyles=document.createElement("style");B.$clipStyles.setAttribute("type","text/css");B.$clipStyles.setAttribute("id","#jarallax-clip-"+B.instanceID);var A=document.head||document.getElementsByTagName("head")[0];A.appendChild(B.$clipStyles)}var y=["#jarallax-container-"+B.instanceID+" {","   clip: rect(0 "+C+"px "+x+"px 0);","   clip: rect(0, "+C+"px, "+x+"px, 0);","}"].join("\n");if(B.$clipStyles.styleSheet){B.$clipStyles.styleSheet.cssText=y}else{B.$clipStyles.innerHTML=y}};k.prototype.coverImage=function(){var K=this;if(!K.image.width||!K.image.height){return}var B=K.image.$container.getBoundingClientRect(),C=B.width,D=B.height,y=B.left,z=K.image.width,I=K.image.height,E=K.options.speed,J=K.options.type==="scroll"||K.options.type==="scroll-opacity",A=0,x=0,H=D,G=0,F=0;if(J){if(E<0){A=E*Math.max(D,a)}else{A=E*(D+a)}if(E>1){H=Math.abs(A-a)}else{if(E<0){H=A/E+Math.abs(A)}else{H+=Math.abs(a-D)*(1-E)}}A/=2}x=H*z/I;if(x<C){x=C;H=x*I/z}if(J){G=y+(C-x)/2;F=(a-H)/2}else{G=(C-x)/2;F=(D-H)/2}if(K.image.position==="absolute"){G-=y}K.parallaxScrollDistance=A;K.css(K.image.$item,{width:x+"px",height:H+"px",marginLeft:G+"px",marginTop:F+"px"});if(K.options.onCoverImage){K.options.onCoverImage.call(K)}};k.prototype.isVisible=function(){return this.isElementInViewport||false};k.prototype.onScroll=function(H){var A=this;if(!A.image.width||!A.image.height){return}var C=A.$item.getBoundingClientRect(),N=C.top,G=C.height,J={visibility:"visible",backgroundPosition:"50% 50%"};var K=C;if(A.options.elementInViewport){K=A.options.elementInViewport.getBoundingClientRect()}A.isElementInViewport=K.bottom>=0&&K.right>=0&&K.top<=a&&K.left<=u;if(H?false:!A.isElementInViewport){return}var L=Math.max(0,N),I=Math.max(0,G+N),E=Math.max(0,-N),B=Math.max(0,N+G-a),x=Math.max(0,G-(N+G-a)),y=Math.max(0,-N+a-G),F=1-2*(a-N)/(a+G);var D=1;if(G<a){D=1-(E||B)/G}else{if(I<=a){D=I/a}else{if(x<=a){D=x/a}}}if(A.options.type==="opacity"||A.options.type==="scale-opacity"||A.options.type==="scroll-opacity"){J.transform="";J.opacity=D}if(A.options.type==="scale"||A.options.type==="scale-opacity"){var M=1;if(A.options.speed<0){M-=A.options.speed*D}else{M+=A.options.speed*(1-D)}J.transform="scale("+M+")"}if(A.options.type==="scroll"||A.options.type==="scroll-opacity"){var z=A.parallaxScrollDistance*F;if(A.image.position==="absolute"){z-=N}J.transform="translateY("+z+"px)"}A.css(A.image.$item,J);if(A.options.onScroll){A.options.onScroll.call(A,{section:C,beforeTop:L,beforeTopEnd:I,afterTop:E,beforeBottom:B,beforeBottomEnd:x,afterBottom:y,visiblePercent:D,fromViewportCenter:F})}};function p(x,y,z){if(x.addEventListener){x.addEventListener(y,z)}else{x.attachEvent("on"+y,function(){z.call(x)})}}function f(x){g.requestAnimationFrame(function(){if(x.type!=="scroll"){o()}for(var y=0,z=b.length;y<z;y++){if(x.type!=="scroll"){b[y].coverImage();b[y].clipContainer()}b[y].onScroll()}})}p(g,"scroll",f);p(g,"resize",f);p(g,"orientationchange",f);p(g,"load",f);var c=function(B){if(typeof HTMLElement==="object"?B instanceof HTMLElement:B&&typeof B==="object"&&B!==null&&B.nodeType===1&&typeof B.nodeName==="string"){B=[B]}var C=arguments[1],z=Array.prototype.slice.call(arguments,2),x=B.length,A=0,y;for(A;A<x;A++){if(typeof C==="object"||typeof C==="undefined"){if(!B[A].jarallax){B[A].jarallax=new k(B[A],C)}}else{if(B[A].jarallax){y=B[A].jarallax[C].apply(B[A].jarallax,z)}}if(typeof y!=="undefined"){return y}}return B};c.constructor=k;var n=g.jarallax;g.jarallax=c;g.jarallax.noConflict=function(){g.jarallax=n;return this};if(typeof jQuery!=="undefined"){var s=function(){var y=arguments||[];Array.prototype.unshift.call(y,this);var x=c.apply(g,y);return typeof x!=="object"?x:this};s.constructor=k;var e=jQuery.fn.jarallax;jQuery.fn.jarallax=s;jQuery.fn.jarallax.noConflict=function(){jQuery.fn.jarallax=e;return this}}var i=jarallax.noConflict();p(g,"DOMContentLoaded",function(){c(document.querySelectorAll("[data-jarallax], [data-jarallax-video]"))})}(window));