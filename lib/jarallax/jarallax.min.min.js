/*!
 * Name    : Just Another Parallax [Jarallax]
 * Version : 1.8.0
 * Author  : _nK https://nkdev.info
 * GitHub  : https://github.com/nk-o/jarallax
 */
(function(N){if(!Date.now){Date.now=function(){return new Date().getTime()}}if(!N.requestAnimationFrame){(function(){var b=["webkit","moz"];for(var d=0;d<b.length&&!N.requestAnimationFrame;++d){var a=b[d];N.requestAnimationFrame=N[a+"RequestAnimationFrame"];N.cancelAnimationFrame=N[a+"CancelAnimationFrame"]||N[a+"CancelRequestAnimationFrame"]}if(/iP(ad|hone|od).*OS 6/.test(N.navigator.userAgent)||!N.requestAnimationFrame||!N.cancelAnimationFrame){var c=0;N.requestAnimationFrame=function(e){var f=Date.now();var g=Math.max(c+16,f);return setTimeout(function(){e(c=g)},g-f)};N.cancelAnimationFrame=clearTimeout}}())}var G=document.createElement("div");function M(b){var c=["O","Moz","ms","Ms","Webkit"];var a=c.length;if(G.style[b]!==undefined){return true}b=b.charAt(0).toUpperCase()+b.substr(1);while(--a>-1&&G.style[c[a]+b]===undefined){}return a>=0}var K=M("transform");var J=M("perspective");var B=navigator.userAgent;var y=B.toLowerCase().indexOf("android")>-1;var D=/iPad|iPhone|iPod/.test(B)&&!N.MSStream;var Q=B.toLowerCase().indexOf("firefox")>-1;var F=B.indexOf("MSIE ")>-1||B.indexOf("Trident/")>-1||B.indexOf("Edge/")>-1;var A=document.all&&!N.atob;var C;var T;function I(){C=N.innerWidth||document.documentElement.clientWidth;T=N.innerHeight||document.documentElement.clientHeight}I();var S=[];var z=(function(){var a=0;function b(c,g){var d=this,f;d.$item=c;d.defaults={type:"scroll",speed:0.5,imgSrc:null,imgWidth:null,imgHeight:null,elementInViewport:null,zIndex:-100,noAndroid:false,noIos:true,onScroll:null,onInit:null,onDestroy:null,onCoverImage:null};f=JSON.parse(d.$item.getAttribute("data-jarallax")||"{}");d.options=d.extend({},d.defaults,f,g);if(!K||y&&d.options.noAndroid||D&&d.options.noIos){return}d.options.speed=Math.min(2,Math.max(-1,parseFloat(d.options.speed)));var e=d.options.elementInViewport;if(e&&typeof e==="object"&&typeof e.length!=="undefined"){e=e[0]}if(!e instanceof Element){e=null}d.options.elementInViewport=e;d.instanceID=a++;d.image={src:d.options.imgSrc||null,$container:null,$item:null,width:d.options.imgWidth||null,height:d.options.imgHeight||null,useImgTag:D||y||F,position:!J||Q?"absolute":"fixed"};if(d.initImg()){d.init()}}return b}());z.prototype.css=function(c,b){if(typeof b==="string"){if(N.getComputedStyle){return N.getComputedStyle(c).getPropertyValue(b)}return c.style[b]}if(b.transform){if(J){b.transform+=" translateZ(0)"}b.WebkitTransform=b.MozTransform=b.msTransform=b.OTransform=b.transform}for(var a in b){c.style[a]=b[a]}return c};z.prototype.extend=function(a){a=a||{};for(var b=1;b<arguments.length;b++){if(!arguments[b]){continue}for(var c in arguments[b]){if(arguments[b].hasOwnProperty(c)){a[c]=arguments[b][c]}}}return a};z.prototype.initImg=function(){var a=this;if(a.image.src===null){a.image.src=a.css(a.$item,"background-image").replace(/^url\(['"]?/g,"").replace(/['"]?\)$/g,"")}return !(!a.image.src||a.image.src==="none")};z.prototype.init=function(){var c=this,b={position:"absolute",top:0,left:0,width:"100%",height:"100%",overflow:"hidden",pointerEvents:"none"},a={};c.$item.setAttribute("data-jarallax-original-styles",c.$item.getAttribute("style"));if(c.css(c.$item,"position")==="static"){c.css(c.$item,{position:"relative"})}if(c.css(c.$item,"z-index")==="auto"){c.css(c.$item,{zIndex:0})}c.image.$container=document.createElement("div");c.css(c.image.$container,b);c.css(c.image.$container,{visibility:"hidden","z-index":c.options.zIndex});c.image.$container.setAttribute("id","jarallax-container-"+c.instanceID);c.$item.appendChild(c.image.$container);if(c.image.useImgTag){c.image.$item=document.createElement("img");c.image.$item.setAttribute("src",c.image.src);a=c.extend({"max-width":"none"},b,a)}else{c.image.$item=document.createElement("div");a=c.extend({"background-position":"50% 50%","background-size":"100% auto","background-repeat":"no-repeat no-repeat","background-image":'url("'+c.image.src+'")'},b,a)}var e=0;var d=c.$item;while(d!==null&&d!==document&&e===0){var g=c.css(d,"-webkit-transform")||c.css(d,"-moz-transform")||c.css(d,"transform");if(g&&g!=="none"){e=1;c.css(c.image.$container,{transform:"translateX(0) translateY(0)"})}d=d.parentNode}if(e||c.options.type==="opacity"||c.options.type==="scale"||c.options.type==="scale-opacity"){c.image.position="absolute"}a.position=c.image.position;c.css(c.image.$item,a);c.image.$container.appendChild(c.image.$item);function f(){c.coverImage();c.clipContainer();c.onScroll(true);if(c.options.onInit){c.options.onInit.call(c)}setTimeout(function(){if(c.$item){c.css(c.$item,{"background-image":"none","background-attachment":"scroll","background-size":"auto"})}},0)}if(c.image.width&&c.image.height){f()}else{c.getImageSize(c.image.src,function(h,i){c.image.width=h;c.image.height=i;f()})}S.push(c)};z.prototype.destroy=function(){var e=this;for(var d=0,b=S.length;d<b;d++){if(S[d].instanceID===e.instanceID){S.splice(d,1);break}}var a=e.$item.getAttribute("data-jarallax-original-styles");e.$item.removeAttribute("data-jarallax-original-styles");if(a==="null"){e.$item.removeAttribute("style")}else{e.$item.setAttribute("style",a)}if(e.$clipStyles){e.$clipStyles.parentNode.removeChild(e.$clipStyles)}e.image.$container.parentNode.removeChild(e.image.$container);if(e.options.onDestroy){e.options.onDestroy.call(e)}delete e.$item.jarallax;for(var c in e){delete e[c]}};z.prototype.getImageSize=function(c,b){if(!c||!b){return}var a=new Image();a.onload=function(){b(a.width,a.height)};a.src=c};z.prototype.clipContainer=function(){if(A){return}var d=this,f=d.image.$container.getBoundingClientRect(),c=f.width,b=f.height;if(!d.$clipStyles){d.$clipStyles=document.createElement("style");d.$clipStyles.setAttribute("type","text/css");d.$clipStyles.setAttribute("id","#jarallax-clip-"+d.instanceID);var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(d.$clipStyles)}var a=["#jarallax-container-"+d.instanceID+" {","   clip: rect(0 "+c+"px "+b+"px 0);","   clip: rect(0, "+c+"px, "+b+"px, 0);","}"].join("\n");if(d.$clipStyles.styleSheet){d.$clipStyles.styleSheet.cssText=a}else{d.$clipStyles.innerHTML=a}};z.prototype.coverImage=function(){var a=this;if(!a.image.width||!a.image.height){return}var j=a.image.$container.getBoundingClientRect(),i=j.width,h=j.height,m=j.left,l=a.image.width,c=a.image.height,g=a.options.speed,b=a.options.type==="scroll"||a.options.type==="scroll-opacity",k=0,n=0,d=h,e=0,f=0;if(b){if(g<0){k=g*Math.max(h,T)}else{k=g*(h+T)}if(g>1){d=Math.abs(k-T)}else{if(g<0){d=k/g+Math.abs(k)}else{d+=Math.abs(T-h)*(1-g)}}k/=2}n=d*l/c;if(n<i){n=i;d=n*c/l}if(b){e=m+(i-n)/2;f=(T-d)/2}else{e=(i-n)/2;f=(h-d)/2}if(a.image.position==="absolute"){e-=m}a.parallaxScrollDistance=k;a.css(a.image.$item,{width:n+"px",height:d+"px",marginLeft:e+"px",marginTop:f+"px"});if(a.options.onCoverImage){a.options.onCoverImage.call(a)}};z.prototype.isVisible=function(){return this.isElementInViewport||false};z.prototype.onScroll=function(g){var n=this;if(!n.image.width||!n.image.height){return}var l=n.$item.getBoundingClientRect(),a=l.top,h=l.height,e={visibility:"visible",backgroundPosition:"50% 50%"};var d=l;if(n.options.elementInViewport){d=n.options.elementInViewport.getBoundingClientRect()}n.isElementInViewport=d.bottom>=0&&d.right>=0&&d.top<=T&&d.left<=C;if(g?false:!n.isElementInViewport){return}var c=Math.max(0,a),f=Math.max(0,h+a),j=Math.max(0,-a),m=Math.max(0,a+h-T),q=Math.max(0,h-(a+h-T)),p=Math.max(0,-a+T-h),i=1-2*(T-a)/(T+h);var k=1;if(h<T){k=1-(j||m)/h}else{if(f<=T){k=f/T}else{if(q<=T){k=q/T}}}if(n.options.type==="opacity"||n.options.type==="scale-opacity"||n.options.type==="scroll-opacity"){e.transform="";e.opacity=k}if(n.options.type==="scale"||n.options.type==="scale-opacity"){var b=1;if(n.options.speed<0){b-=n.options.speed*k}else{b+=n.options.speed*(1-k)}e.transform="scale("+b+")"}if(n.options.type==="scroll"||n.options.type==="scroll-opacity"){var o=n.parallaxScrollDistance*i;if(n.image.position==="absolute"){o-=a}e.transform="translateY("+o+"px)"}n.css(n.image.$item,e);if(n.options.onScroll){n.options.onScroll.call(n,{section:l,beforeTop:c,beforeTopEnd:f,afterTop:j,beforeBottom:m,beforeBottomEnd:q,afterBottom:p,visiblePercent:k,fromViewportCenter:i})}};function H(b,a,c){if(b.addEventListener){b.addEventListener(a,c)}else{b.attachEvent("on"+a,function(){c.call(b)})}}function O(a){N.requestAnimationFrame(function(){if(a.type!=="scroll"){I()}for(var b=0,c=S.length;b<c;b++){if(a.type!=="scroll"){S[b].coverImage();S[b].clipContainer()}S[b].onScroll()}})}H(N,"scroll",O);H(N,"resize",O);H(N,"orientationchange",O);H(N,"load",O);var R=function(d){if(typeof HTMLElement==="object"?d instanceof HTMLElement:d&&typeof d==="object"&&d!==null&&d.nodeType===1&&typeof d.nodeName==="string"){d=[d]}var c=arguments[1],f=Array.prototype.slice.call(arguments,2),b=d.length,e=0,a;for(e;e<b;e++){if(typeof c==="object"||typeof c==="undefined"){if(!d[e].jarallax){d[e].jarallax=new z(d[e],c)}}else{if(d[e].jarallax){a=d[e].jarallax[c].apply(d[e].jarallax,f)}}if(typeof a!=="undefined"){return a}}return d};R.constructor=z;var x=N.jarallax;N.jarallax=R;N.jarallax.noConflict=function(){N.jarallax=x;return this};if(typeof jQuery!=="undefined"){var E=function(){var a=arguments||[];Array.prototype.unshift.call(a,this);var b=R.apply(N,a);return typeof b!=="object"?b:this};E.constructor=z;var P=jQuery.fn.jarallax;jQuery.fn.jarallax=E;jQuery.fn.jarallax.noConflict=function(){jQuery.fn.jarallax=P;return this}}var L=jarallax.noConflict();H(N,"DOMContentLoaded",function(){R(document.querySelectorAll("[data-jarallax], [data-jarallax-video]"))})}(window));